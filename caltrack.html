<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calorie & Protein Tracker</title>
    <link rel="icon" type="image/png" href="caltrack.png">
    <style>
        body {
            background-color: #121212;
            color: #E0E0E0;
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }
        table {
            width: 100%;
            max-width: 600px;
            margin: 20px auto;
            border-collapse: collapse;
            background-color: #1E1E1E;
        }
        th, td {
            border: 1px solid #333;
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #252525;
        }
        input, button {
            background-color: #333;
            color: #E0E0E0;
            border: 1px solid #444;
            padding: 10px;
            margin: 5px;
        }
        button:hover {
            background-color: #444;
        }
    </style>
</head>
<body>
    <h1>Calorie & Protein Tracker</h1>
    <input type="text" id="meal" placeholder="Meal Name">
    <input type="number" id="calories" placeholder="Calories">
    <input type="number" id="protein" placeholder="Protein (g)">
    <button title="Add entry to the list" onclick="addEntry()">‚ûï</button>
    <button title="Reset all entries" onclick="resetData()">üîÑ</button>
    <button title="Save entry for quick selection" onclick="addToQuickItems()">üíæ</button>
    
    <h2>Quick Add Items</h2>
    <select id="quickItems"></select>
    <button title="Add selected quick item" onclick="quickAdd()">‚ö°</button>
    <button title="Remove selected quick item" onclick="removeQuickItem()">‚ùå</button>
    
    <table>
        <thead>
            <tr>
                <th>Meal</th>
                <th>Calories (<span id="totalCalories">0</span>)</th>
                <th>Protein (g) (<span id="totalProtein">0</span>)</th>
                <th>Manage</th>
            </tr>
        </thead>
        <tbody id="entryTable"></tbody>
    </table>
    <script>
        let entries = JSON.parse(localStorage.getItem("entries")) || [];
        let quickItems = JSON.parse(localStorage.getItem("quickItems")) || [];

        function renderTable() {
            const table = document.getElementById("entryTable");
            table.innerHTML = "";
            let totalCalories = 0;
            let totalProtein = 0;
            
            entries.forEach((entry, index) => {
                totalCalories += parseInt(entry.calories);
                totalProtein += parseInt(entry.protein);
                let row = `<tr>
                    <td>${entry.meal}</td>
                    <td>${entry.calories}</td>
                    <td>${entry.protein}</td>
                    <td><button title="Remove this entry from the list" onclick="deleteEntry(${index})">‚ùå</button></td>
                </tr>`;
                table.innerHTML += row;
            });
            
            document.getElementById("totalCalories").innerText = totalCalories;
            document.getElementById("totalProtein").innerText = totalProtein;
        }

        function addEntry() {
            let meal = document.getElementById("meal").value;
            let calories = document.getElementById("calories").value;
            let protein = document.getElementById("protein").value;
            if (meal && calories && protein) {
                entries.push({ meal, calories, protein });
                localStorage.setItem("entries", JSON.stringify(entries));
                renderTable();
            }
        }

        function deleteEntry(index) {
            entries.splice(index, 1);
            localStorage.setItem("entries", JSON.stringify(entries));
            renderTable();
        }

        function resetData() {
            entries = [];
            localStorage.removeItem("entries");
            renderTable();
        }

        function renderQuickItems() {
            const select = document.getElementById("quickItems");
            select.innerHTML = "";
            quickItems.forEach((item, index) => {
                let option = `<option value='${index}'>${item.meal} - ${item.calories} cal / ${item.protein}g</option>`;
                select.innerHTML += option;
            });
        }

        function quickAdd() {
            let index = document.getElementById("quickItems").value;
            if (index !== "") {
                entries.push(quickItems[index]);
                localStorage.setItem("entries", JSON.stringify(entries));
                renderTable();
            }
        }

        function addToQuickItems() {
            let meal = document.getElementById("meal").value;
            let calories = document.getElementById("calories").value;
            let protein = document.getElementById("protein").value;
            if (meal && calories && protein) {
                quickItems.push({ meal, calories, protein });
                localStorage.setItem("quickItems", JSON.stringify(quickItems));
                renderQuickItems();
            }
        }

        function removeQuickItem() {
            let index = document.getElementById("quickItems").value;
            if (index !== "") {
                quickItems.splice(index, 1);
                localStorage.setItem("quickItems", JSON.stringify(quickItems));
                renderQuickItems();
            }
        }

        renderTable();
        renderQuickItems();
    </script>
</body>
</html>
